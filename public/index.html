<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>뉴스 스크롤</title>
<style>
  body {
    margin: 0;
    background: black;
    color: white;
    font-size: 28px;
    font-weight: bold;
    overflow: hidden;
  }
  #newsWrapper {
    position: fixed;
    top: 0;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
  }
  #news {
    display: inline-block;
    padding-left: 100%;
    animation: scroll 20s linear infinite;
  }
  @keyframes scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
  }
</style>
</head>
<body>
<div id="newsWrapper">
  <div id="news">뉴스 로딩 중...</div>
</div>

<script>
async function loadNews() {
  const newsEl = document.getElementById("news");
  try {
    const response = await fetch("https://proxy2-production-b5a7.up.railway.app/news");
    if (!response.ok) throw new Error("뉴스 불러오기 실패");
    const data = await response.json();

    // 예: data가 { news: "뉴스1 | 뉴스2 | 뉴스3" } 형식이라 가정
    if (data.news) {
      newsEl.textContent = data.news;
    } else {
      newsEl.textContent = "뉴스 데이터가 없습니다.";
    }

    // 애니메이션 다시 시작
    newsEl.style.animation = "none";
    newsEl.offsetHeight; // reflow
    newsEl.style.animation = "scroll 20s linear infinite";

  } catch (err) {
    console.error("뉴스 불러오기 실패", err);
    newsEl.textContent = "뉴스 불러오기 실패";
  }
}

// 페이지 로드 후 뉴스 불러오기
window.addEventListener("load", loadNews);
</script>
</body>
</html>
